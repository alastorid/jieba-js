<!DOCTYPE html>
<html>
<head>
    <title>jieba-js demo</title>
</head>
<body>
    
    <script src="require-jieba-js.js"></script>
    <script src="jquery.js"></script>
    
    <form onsubmit="return false;">
    <table>
        <tbody>
            <tr>
                <td>
                    <!-- http://blog.fukuball.com/ru-he-shi-yong-jieba-jie-ba-zhong-wen-fen-ci-cheng-shi/ -->
<textarea id="input">'奧運會籃球比賽和世界籃球錦標賽的比賽場地長度是 28 公尺寬 15 公尺', yes
'罰球區是限制區加上以罰球線中點為圓心以, 80 公尺為半徑向限制區外所葷的半圓區域', yes
'地球是太陽系從內到外的第三顆行星', no
'從衛星上鳥服地球感受前所未有的視覺衝擊', no
'籃球運動於 1日91 年起源於美國', yes
'遊覽遙遠的地方漫步 3D 森林穿梭時空回到過去', no</textarea>
                </td>
                <td>
                    <textarea id="output"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    <button type="submit">開始斷詞</button>
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>
    </form>
    
    <script>
        $(function () {
            $("form").submit(function () {
                var _text = $("#input").val();
                $("#output").val("");
                console.log(_text);
                var _submit = $(this).find("button");
                _submit.attr("disabled", "disabled");
                _submit.html("處理中...");
                call_jieba_cut(_text, function (_result) {
                    _result = _result.join(" ");
                    while (_result.indexOf("  ") > -1) {
                        _result = _result.replace(/  /g, ' ');
                    }
                    _result = _result.replace(/ \n /g, "\n");
                    _result = _result.replace(/ \t /g, "\t");
                    _result = _result.replace(/ \' /g, "'");
                    _result = _result.replace(/\' /g, "'");
                    _result = _result.trim();
                    $("#output").val(_result);
                    _submit.removeAttr("disabled");
                    _submit.html("開始斷詞");
                });
                return false;
            }).submit();
        });
    </script>
    
    <style>
        table {
            width: 100%;
            height: calc(100vh - 30px);
        }
        textarea {
            width: calc(100% - 10px);
            height: calc(100vh - 80px);
        }
        button {
            height: 45px;
            width: calc(100% - 10%);
        }
    </style>
    
</body>
</html>